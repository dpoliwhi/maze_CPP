<p align="center">
<img src="Readme/icon.png" alt="drawing" width="200"/>
</p>

# **3DViewer** for macOS

## Описание программы
Программа позволяет открывать и просматривать файлы формата .obj, выполнять с объектом любые манипуляции, а также настраивать отображение объекта.<br>
Программа выполнена на языке программирования С++ с применеием ООП, архитектурных паттернов и паттернов программирования.

<p align="center">

![основной скрин](Readme/main_screen.png)
</p>

Объект можно вращать вокруг осей X, Y, Z, двигать по осям X, Y, отдалять и приближать. <br>
Перемещать и вращать объект можно как с помощью мыши, так и клавишами на левой панели приложения. <br>
Левая кнопка мыши отвечает за вращение объекта, правая - за перемещение, вращение колеса - за изменение масштаба.

********* 
## Реализация архитектуры программы

Общая архитектура программы построена на основе паттерна **MVC** (Model View Controller, реализация в одноименных директориях проекта).<br> 

Также для оптимизации применены следующие паттерны программирования:

* Strategy
* Facade
* Singleton

Отрисовка объекта объекта выполняется на **OpenGL** с созданием и ипользованием **Шейдеров**

<p align="center">
<img src="Readme/object.gif" alt="drawing" width="500"/>
</p>

********* 
## Настройки

На правой панели приложения можно задать следующие настройки отображения объекта:<br>

<li>Выбор проекции: <b>центральная и параллельная</b></li>
<li>Цвет фона отображения модели</li>
<li>Тип линий: <b>пунктирная и сплошная</b></li>
<li>Цвет линий модели</li>
<li>Толщину линий модели</li>
<li>Тип вершин: <b>отсутствуют, круглые, квадратные</b></li>
<li>Цвет вершин модели</li>
<li>Размер вершин модели</li>

<br>
При закрытии приложения происходит сохранение всех существующих настроек в файл **settings.conf** в директории **Resources**. <br>
При открытии программы проводится сверка существующих (сохраненных) настроек со стандарными. Если между ними имеются различия, при откртии приложения выводится соответсвующее сообщение.<br>
Для сброса кастомных настроек и возвращения к стандартным необходимо нажать <b>Reset settings</b>

<br>
Реализация класса Settings представленна в одноименной директории проекта.

********* 

## Screenshot и Gif

Для создания скриншота модели можно нажать кнопку <b>Screen</b> и далее выбрать путь сохраниения <b>.png</b> изображения.<br>
По умолчанию скриншоты сохраняются в папку <b> Applications/3DViewer/Screenshots/</b><br>
Для создания <b>GIF</b>-изображения можно нажать кнопку <b>Gif</b> и вращать/перемещать объект в течении 5 секунд. <br>
По завершению записи приложение выдаст сообщение о создании Gif-изображения и предложит сохранить файл. <br>
По умолчанию GIF-изображения сохраняются в папку <b> Applications/3DViewer/Gif/</b><br>

********* 

## Makefile и Unit-тесты на матрицы
В корневой дирректории располоден Makefile со следующими целями:

* **make all** - выполняет цели **test, check, clean**
* **test** - запускает **Unit-тесты** на основе библиотеки GTest, проверку парсинга .obj файла, проверку результата афинных преобразований матрицы объекта по всем доступным вариантам модификации объекта.<br> Преобразование для тестов производится с посредством перемножения матрицы вершин объекта на соответсвующие афинные матрицы перехода.<br>
Для выполнения **Unit-тестов** реализована собственная библиотека **matrix.h** со всеми методами взаимодействия с матрицами
* check - запускает проверку всех файлов на стилевые нормы, утечки и **cppcheck**
* install - выполняет установку приложения в директорию **Applications/**
* uninstall - производит деинсталяцию приложения
* dist - архивирует дистрибутив программы в **.tar** файл
* dvi - запускает readme.html
* clean - выполняет полную очистку файлов установки и удаленние всех данных приложения
